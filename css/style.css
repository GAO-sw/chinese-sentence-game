/* --- 通用样式 --- */
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f4f7f9; color: #333; display: flex; flex-direction: column; align-items: center; padding: 20px; line-height: 1.6; }
h1, h2, h3, h4 { text-align: center; }
.lang-ru { color: #557; font-size: 0.9em; display: block; margin-top: 5px; }

/* --- 目录页样式 --- */
.list-container { display: flex; flex-direction: column; gap: 15px; width: 90%; max-width: 700px; }
.lesson-link { background-color: #ffffff; padding: 20px; border-radius: 10px; text-decoration: none; box-shadow: 0 4px 8px rgba(0,0,0,0.08); transition: transform 0.2s ease, box-shadow 0.2s ease; }
.lesson-link:hover { transform: translateY(-4px); box-shadow: 0 6px 12px rgba(0,0,0,0.12); }
.lesson-link .lang-zh { color: #0056b3; font-size: 1.25em; font-weight: bold; }

/* --- 游戏页样式 (已加宽) --- */
.header { width: 95%; max-width: 1400px; background-color: #fff; padding: 15px 25px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.08); margin-bottom: 25px; }
.header p { text-align: center; }
#game-board { width: 100%; display: flex; flex-direction: column; gap: 30px; }
.question-container { background-color: #ffffff; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px; width: 95%; max-width: 1400px; margin: 0 auto; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
.question-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f0f0f0; padding-bottom: 15px; margin-bottom: 20px; flex-wrap: wrap; }
.question-header .lang-zh { font-size: 1.5em; font-weight: bold; }
.question-header .lang-ru { font-size: 1.2em; }
.core-word-display { display: flex; align-items: center; gap: 10px; margin-left: auto; }
.core-word-display .lang-ru { margin-top: 0; }
.sentence-area, .word-pool-area { margin-bottom: 20px; }
.sentence-prompt, .word-pool-prompt { margin-bottom: 10px; font-weight: bold; }
.sentence-prompt .lang-zh, .word-pool-prompt .lang-zh { font-size: 1.1em; }
.word-box-container { display: flex; flex-wrap: wrap; gap: 10px; padding: 15px; min-height: 60px; border: 2px dashed #d0dbe4; border-radius: 8px; background-color: #fafdff; }
.word-pool-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
.word-category { background-color: #f8f9fa; border-radius: 8px; padding: 5px 10px 10px 10px; border: 1px solid #e9ecef; }
.category-title { font-size: 1em; text-align: left; margin-bottom: 10px; color: #495057; }
.category-title .lang-ru { display: inline; margin-left: 5px; }
.word-block { background-color: #e0f7ff; color: #004085; padding: 8px 14px; border-radius: 6px; cursor: grab; user-select: none; border: 1px solid #b8e7ff; font-size: 1.1em; text-align: center; }
.word-block:active { cursor: grabbing; }
.word-block.core-word-reference { background-color: #fffbe6; color: #856404; border: 1px solid #ffeeba; cursor: default; }
.sentence-box .word-block.core-word { background-color: #fffbe6; color: #856404; border: 1px solid #ffeeba; }
.final-submission-container { width: 95%; max-width: 1400px; margin: 30px auto 0 auto; padding: 25px; background-color: #fff; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center; }
.generate-link-btn { background-color: #28a745; color: white; padding: 12px 25px; border: none; border-radius: 8px; font-size: 1.2em; cursor: pointer; margin-bottom: 20px; transition: background-color 0.2s; }
.generate-link-btn:hover { background-color: #218838; }
.result-link-input { width: 95%; padding: 12px; border: 1px solid #ccc; border-radius: 5px; text-align: center; background-color: #f8f9fa; font-size: 1em; }
.back-link { margin-top: 30px; display: inline-block; background-color: #6c757d; color: white; padding: 12px 25px; border-radius: 8px; text-decoration: none; transition: background-color 0.2s; }
.back-link:hover { background-color: #5a6268; }

/* --- 排序题 & 答案显示样式 --- */
.answer-reveal-section { margin-top: 25px; padding-top: 15px; border-top: 1px solid #f0f0f0; text-align: center; }
.show-answer-btn { background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 6px; font-size: 1em; cursor: pointer; transition: background-color 0.2s; }
.show-answer-btn:hover { background-color: #0056b3; }
.answer-container { display: none; margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef; text-align: left; }
.answer-container.visible { display: block; }
.answer-container .lang-zh { font-weight: bold; font-size: 1.2em; color: #28a745; }
.answer-container .lang-ru { font-size: 1.1em; margin-top: 8px; }
.explanation-content { padding: 10px; }
.explanation-content p { margin: 10px 0; }

/* --- HSK 等级折叠目录样式 --- */
.level-container { width: 100%; margin-bottom: 15px; }
.level-header { background-color: #0056b3; color: white; padding: 15px 25px; border-radius: 10px; cursor: pointer; user-select: none; transition: background-color 0.2s ease; position: relative; }
.level-header:hover { background-color: #004a99; }
.level-header .lang-zh { font-size: 1.4em; font-weight: bold; }
.level-header .lang-ru { color: #d0eaff; font-size: 1em; margin-top: 5px; }
.level-header::after { content: '▼'; position: absolute; right: 25px; top: 50%; transform: translateY(-50%) scale(0.8); transition: transform 0.3s ease; }
.level-header.collapsed::after { transform: translateY(-50%) scale(0.8) rotate(-90deg); }
.lesson-group { display: flex; flex-direction: column; gap: 15px; padding-top: 15px; overflow: hidden; max-height: 2000px; transition: max-height 0.5s ease-in-out, padding-top 0.5s ease-in-out; }
.lesson-group.collapsed { max-height: 0; padding-top: 0; }

/* --- 单词卡片测试样式 (已加宽) --- */
.flashcard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; width: 95%; max-width: 1400px; margin: 20px auto; }
.flashcard { background-color: #ffffff; border-radius: 10px; padding: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.08); cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; text-align: center; user-select: none; min-height: 80px; display: flex; flex-direction: column; justify-content: center; }
.flashcard:hover { transform: translateY(-4px); box-shadow: 0 6px 12px rgba(0,0,0,0.12); }
.flashcard-zh { font-size: 1.8em; font-weight: bold; color: #0056b3; line-height: 1.3; }
.flashcard-ru { display: none; margin-top: 15px; font-size: 1.1em; color: #495057; border-top: 1px solid #f0f0f0; padding-top: 10px; }
.flashcard.is-flipped .flashcard-ru { display: block; }
.flashcard.is-flipped { background-color: #eef8ff; }

/* --- 听力练习样式 --- */
.listening-grid { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
.listening-item { background-color: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
.listening-header { font-weight: bold; font-size: 1.1em; margin-right: 20px; }
.listening-reveal-btn { background-color: #007bff; color: white; padding: 8px 15px; border: none; border-radius: 6px; font-size: 0.95em; cursor: pointer; transition: background-color 0.2s; flex-shrink: 0; }
.listening-reveal-btn:hover { background-color: #0056b3; }
.listening-content { display: none; width: 100%; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; }
.listening-content.visible { display: block; }
.listening-content p { margin: 0 0 8px 0; }
.listening-content .lang-zh { font-size: 1.2em; font-weight: bold; color: #333; }
.listening-content .lang-ru { font-size: 1.1em; color: #557; }
